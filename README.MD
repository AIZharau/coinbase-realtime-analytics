# Real-Time Cryptocurrency Analytics Pipeline

[![Python 3.9+](https://img.shields.io/badge/python-3.9+-blue.svg)](https://www.python.org/downloads/) 
[![Redpanda](https://img.shields.io/badge/Streaming-Redpanda-ff69b4)](https://redpanda.com/)
[![Airflow](https://img.shields.io/badge/Orchestration-Airflow-017CEE)](https://airflow.apache.org/)
[![ClickHouse](https://img.shields.io/badge/Database-ClickHouse-FFCC01)](https://clickhouse.com/)
[![Docs](https://img.shields.io/badge/Docs-API%20Reference-blueviolet)](docs/api_reference.md)

## Documentation Quick Links
- [ğŸ“š Documentation Index](docs/index.md) - Complete documentation directory
- [ğŸ› ï¸ Quick Start Guide](docs/quick_start.md) - Get running in 5 minutes
- [ğŸ“Š Dashboard Samples](dashboards/) - Grafana examples
- [ğŸ”„ Workflow Orchestration](docker/airflow/README.md) - Airflow setup and DAGs
- [â˜ï¸ Cloud Deployment](terraform/README.md) - Terraform infrastructure

## Current Architecture
Lightweight pipeline for processing Coinbase market data with clear upgrade paths and workflow orchestration.
![Pipeline Diagram](https://github.com/AIZharau/coinbase-realtime-analytics/blob/main/docs/images/pipeline.png)  

[Full architecture overview](docs/architecture.md) 

## Getting Started

1. **Initial Setup**
   Follow the [Quick Start Guide](docs/quick_start.md) for:
   - Environment preparation
   - Service configuration
   - First-run verification

2. **Key Operations**
   ```bash
   # Start core services
   make pipeline-up

   # OR with workflow orchestration
   make orchestration-up

   # Install CLI tools for cloud deployment
   make install-terraform
   make install-yc
   
   # Deploy to cloud
   make infra-cloud-up
   ```

3. **Component Access**
   - Grafana: http://localhost:3000 (admin/admin)
   - Airflow: http://localhost:8081 (airflow/airflow)
   - ClickHouse: http://localhost:8123/play
   - Redpanda Console: http://localhost:8080

## Common Commands

| Command | Description |
|---------|-------------|
| `make pipeline-up` | Start the full pipeline |
| `make orchestration-up` | Start pipeline with Airflow |
| `make down-all` | Stop all services |
| `make infra-cloud-up` | Deploy to cloud |
| `make infra-cloud-down` | Destroy cloud infrastructure |

For a complete list of commands, see the [Makefile Commands Reference](docs/quick_start.md#common-makefile-commands).

## Project Structure

```
.
â”œâ”€â”€ docker/                # Container configurations
â”‚   â”œâ”€â”€ redpanda/          # (Future) WASM transform configs
â”‚   â”œâ”€â”€ producer/          # Coinbase producer container
â”‚   â”œâ”€â”€ consumer/          # ClickHouse consumer container
â”‚   â”œâ”€â”€ grafana/           # Dashboard provisioning
â”‚   â”œâ”€â”€ airflow/           # Airflow configuration
â”‚   â””â”€â”€ *.yml              # Compose files
â”œâ”€â”€ src/main/
â”‚   â”œâ”€â”€ coinbase_producer.py # WebSocket client
â”‚   â”œâ”€â”€ clickhouse_consumer.py # Data loader
â”‚   â””â”€â”€ utils/            # Shared helpers
â”œâ”€â”€ orchestration/        # Airflow workflows
â”‚   â”œâ”€â”€ dags/             # DAG definitions
â”‚   â”œâ”€â”€ plugins/          # Airflow plugins
â”‚   â””â”€â”€ logs/             # Airflow logs
â”œâ”€â”€ terraform/            # Infrastructure as code
â”‚   â”œâ”€â”€ *.tf              # Terraform configuration files
â”‚   â””â”€â”€ README.md         # Terraform setup instructions
â”œâ”€â”€ docs/                 # Technical documentation
â”‚   â”œâ”€â”€ index.md          # Documentation index
â”‚   â”œâ”€â”€ api_reference.md  # Interface specifications
â”‚   â”œâ”€â”€ quick_start.md    # Setup instructions
â”‚   â””â”€â”€ architecture.md   # Architecture documentation
â”œâ”€â”€ dashboards/           # Grafana JSON exports
â””â”€â”€ Makefile              # Common tasks
```

## Orchestration Workflows

The project includes automated workflows using Apache Airflow:

1. **Market Data ETL** - Daily aggregation and analysis of trading data
2. **Infrastructure Management** - Weekly infrastructure verification and updates
3. **System Monitoring** - Hourly health checks of all system components

Access to the Airflow UI: http://localhost:8081

## Roadmap

### Near-term
âœ“ JSON messaging  
âœ“ Docker deployment  
âœ“ Basic Grafana dashboards  
âœ“ Containerized Producer/Consumer  
âœ“ Workflow orchestration  

### Planned
â—‰ WASM transformations in Redpanda  
â—‰ Avro schema enforcement  
âœ“ Terraform infrastructure  
â—‰ Advanced analytics pipelines  


## Performance

| Metric          | Current | Target |
|----------------|---------|--------|
| Latency        | 800ms   | 300ms  |
| Throughput     | 10K/s   | 50K/s  |
| Availability   | 99.5%   | 99.95% |

## Contribution

1. Fork the repository
2. Create feature branch (`git checkout -b feature`)
3. Commit changes (`git commit -am 'Add feature'`)
4. Push to branch (`git push origin feature`)
5. Open Pull Request